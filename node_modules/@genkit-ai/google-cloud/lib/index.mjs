import {
  __async,
  __spreadProps,
  __spreadValues
} from "./chunk-DJRN6NKF.mjs";
import { genkitPlugin } from "@genkit-ai/core";
import { GoogleAuth } from "google-auth-library";
import { GcpLogger } from "./gcpLogger.js";
import { GcpOpenTelemetry } from "./gcpOpenTelemetry.js";
const googleCloud = genkitPlugin(
  "googleCloud",
  (options) => __async(void 0, null, function* () {
    const authClient = new GoogleAuth();
    const projectId = (options == null ? void 0 : options.projectId) || (yield authClient.getProjectId());
    const optionsWithProjectId = __spreadProps(__spreadValues({}, options), {
      projectId
    });
    return {
      telemetry: {
        instrumentation: {
          id: "googleCloud",
          value: new GcpOpenTelemetry(optionsWithProjectId)
        },
        logger: {
          id: "googleCloud",
          value: new GcpLogger(optionsWithProjectId)
        }
      }
    };
  })
);
var src_default = googleCloud;
export * from "./gcpLogger.js";
export * from "./gcpOpenTelemetry.js";
export {
  src_default as default,
  googleCloud
};
//# sourceMappingURL=index.mjs.map